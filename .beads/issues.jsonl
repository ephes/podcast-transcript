{"id":"podcast-transcript-3mv","title":"Add justfile shorthands for test/typecheck/lint","description":"Add a root-level justfile (like ../django-indieweb/justfile) that provides developer shorthands for common quality gates.","acceptance_criteria":"- `just test` runs pytest via uv\\n- `just typecheck` runs mypy via uv\\n- `just lint` runs ruff/pre-commit (pick existing repo convention)\\n- Document the shorthands in README or AGENTS if needed","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T06:16:11.272188+01:00","updated_at":"2025-12-17T11:29:46.363846+01:00","closed_at":"2025-12-17T11:29:46.363846+01:00","close_reason":"Done: added Justfile shorthands for lint/typecheck/test plus a just-bead helper","comments":[{"id":1,"issue_id":"podcast-transcript-3mv","author":"jochen","text":"Fix close reason formatting","created_at":"2025-12-17T10:29:43Z"},{"id":2,"issue_id":"podcast-transcript-3mv","author":"jochen","text":"Code Review:\n\n‚úÖ All acceptance criteria met:\n- `just test` runs pytest via uv\n- `just typecheck` runs mypy via uv  \n- `just lint` runs pre-commit via uv\n- Documentation added to README.md and AGENTS.md\n\nImplementation notes:\n- Good use of `UV_PYTHON` env var to ensure correct Python version from `.python-version`\n- `tr -d '\\n'` correctly handles trailing newline in .python-version file\n- `*args` pass-through allows flexibility (e.g., `just test -k foo`)\n- `set quiet := true` keeps output clean\n- `default` target with `just --list` is user-friendly\n\nBonus feature: `just bead` helper is a nice addition beyond the requirements.\n\nMinor suggestion for future: The UV_PYTHON pattern is repeated 3 times - could be DRYed up with a Justfile variable like `python_ver := ...`, but not worth changing for only 3 recipes.\n\nLGTM üëç","created_at":"2025-12-17T10:33:37Z"}]}
{"id":"podcast-transcript-8jw","title":"Switch default Python to 3.13 when torch macOS arm64 wheels exist","description":"We currently pin .python-version to 3.12 because mlx-whisper depends on torch, and torch does not publish macOS arm64 wheels for Python 3.13+. When torch supports CPython 3.13 on macOS arm64, bump .python-version to 3.13 and relax the mlx-whisper dev marker so MLX installs by default again.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T18:11:57.748556+01:00","updated_at":"2025-12-18T11:33:15.521198+01:00","closed_at":"2025-12-18T11:33:15.521198+01:00","close_reason":"Done: repo now pins Python 3.13 and uv resolves mlx-whisper/torch (torch 2.9.1) on macOS arm64; removed the 3.12-only gating.","dependencies":[{"issue_id":"podcast-transcript-8jw","depends_on_id":"podcast-transcript-uic","type":"discovered-from","created_at":"2025-12-17T18:11:57.749363+01:00","created_by":"daemon"}]}
{"id":"podcast-transcript-bqm","title":"Use Python 3.14 as default runtime","description":"User requests default Python pinned to current stable (3.14). Update .python-version and re-lock with uv so MLX deps (mlx-whisper/torch) still install on macOS arm64.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T11:46:39.339215+01:00","updated_at":"2025-12-18T11:48:45.03163+01:00","closed_at":"2025-12-18T11:48:45.03163+01:00","close_reason":"Done: repo pins Python 3.14; uv lock/sync succeeds and MLX deps (mlx-whisper/torch) install on macOS arm64; quality gates pass."}
{"id":"podcast-transcript-hzb","title":"Docs: MLX backend examples should install optional deps (podcast-transcript[mlx])","description":"`--backend mlx` is a supported CLI option and the README mentions mlx-whisper, but a default install (`pip install podcast-transcript`) does not include MLX deps because they are behind the `mlx` optional extra.\n\nResult: users trying MLX from the docs/CLI hit an ImportError for `mlx_whisper` / `mlx`.\n\nFix the docs (and optionally the CLI error message) so the MLX backend path is discoverable and works when followed.","acceptance_criteria":"- README.md installation includes an MLX section with `pip install \"podcast-transcript[mlx]\"` (and uv equivalent) and a working `transcribe --backend mlx ...` example.\n- If MLX deps are missing and user selects `--backend mlx`, show a clear error telling them to install the `mlx` extra.\n- Document any platform constraints for MLX (macOS + Apple Silicon).","notes":"Repro (docs expectation):\n  uvx --from podcast-transcript transcribe --backend mlx https://d2mmy4gxasde9x.cloudfront.net/cast_audio/pp_67.mp3\nObserved:\n  Error during transcription: No module named \"mlx_whisper\"\n\nLikely fix: docs should install extra deps (e.g. `uvx --from \"podcast-transcript[mlx]\" transcribe --backend mlx ...` or `uvx --from podcast-transcript --with mlx-whisper transcribe --backend mlx ...`) and/or CLI should emit a friendly message when MLX deps are missing.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-17T06:25:22.630925+01:00","updated_at":"2025-12-17T17:43:26.568983+01:00","closed_at":"2025-12-17T17:43:26.568983+01:00","close_reason":"Done: Document MLX extra install + friendly missing-deps error","labels":["docs","mlx"],"comments":[{"id":4,"issue_id":"podcast-transcript-hzb","author":"jochen","text":"ready to review\n\nDocs: added MLX install section with `pip install \"podcast-transcript[mlx]\"`, `uv pip install \"podcast-transcript[mlx]\"`, and `uvx --from \"podcast-transcript[mlx]\" ...` plus a `--backend=mlx` usage example.\n\nCLI: when `--backend mlx` is selected and `mlx_whisper` is missing, prints an actionable install message.\n\nQuality gates: just lint, just typecheck, just test.","created_at":"2025-12-17T16:08:37Z"},{"id":5,"issue_id":"podcast-transcript-hzb","author":"jochen","text":"Code Review:\n\n‚úÖ All acceptance criteria met:\n\n**1. README.md installation includes MLX section**\n- Added step 2 in Installation with `pip install \"podcast-transcript[mlx]\"` and `uv pip install` equivalent\n- Added uvx one-liner example: `uvx --from \"podcast-transcript[mlx]\" transcribe --backend mlx \u003cmp3_url\u003e`\n- Added MLX example in Usage section with `--backend=mlx`\n\n**2. Clear error when MLX deps are missing**\n- CLI checks `importlib.util.find_spec(\"mlx_whisper\")` before attempting to use the backend\n- Shows multi-line actionable error with:\n  - pip and uv pip install commands\n  - uvx one-liner alternative\n  - Note about macOS/Apple Silicon requirement\n- Backend class has defensive RuntimeError if import somehow fails later\n- **Bonus**: Added test (`tests/cli_test.py`) verifying the error message includes install instructions\n\n**3. Platform constraints documented**\n- Installation section notes \"macOS on Apple Silicon only\"\n- CLI error message includes \"Note: MLX runs on macOS on Apple Silicon.\"\n\n**Other improvements noticed:**\n- Changed generic error output to use `markup=False` to avoid rich markup issues in error messages\n- Test count increased from 14 to 15 (new CLI test)\n\nQuality gates:\n- `just lint` ‚úÖ (auto-formatted one file on first run, passes on second)\n- `just typecheck` ‚úÖ\n- `just test` ‚úÖ (15 passed)\n\nLGTM - ready to close.","created_at":"2025-12-17T16:11:57Z"}]}
{"id":"podcast-transcript-kjg","title":"README: update MLX/Python compatibility (mlx supports Python 3.14)","description":"README.md currently claims: \"Python \u003e=3.10 (mlx does not run with 3.13, but works with 3.12)\".\n\nResearch: PyPI `mlx` latest (0.30.0) ships macOS arm64 wheels for cp310/cp311/cp312/cp313/cp314, so MLX works with Python 3.14 (and also 3.13) on supported platforms.\n\nUpdate the prerequisites docs to reflect current reality and avoid discouraging 3.13/3.14 users.","acceptance_criteria":"- README.md prerequisite note no longer claims MLX fails on Python 3.13.\n- README.md mentions that MLX backend supports Python versions based on `mlx` wheels (currently incl. 3.14) and is macOS/Apple-silicon specific.\n- Keep base requirement as Python \u003e=3.10 for non-MLX backends.","notes":"ready to review\n\nUpdated README prerequisites to reflect MLX Python support (based on mlx wheels; currently incl. 3.14) and macOS/Apple Silicon requirement.\n\nQuality gates: just lint, just typecheck, just test.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-17T06:25:16.044254+01:00","updated_at":"2025-12-17T17:03:14.767125+01:00","closed_at":"2025-12-17T17:03:14.767125+01:00","close_reason":"Done: Update README MLX/Python compatibility note","labels":["docs","mlx"],"comments":[{"id":3,"issue_id":"podcast-transcript-kjg","author":"jochen","text":"Code Review:\n\n‚úÖ All acceptance criteria met:\n\n1. **No longer claims MLX fails on Python 3.13** - The old text \"mlx does not run with 3.13, but works with 3.12\" has been removed.\n\n2. **MLX backend requirements documented** - New text clearly states: \"MLX backend (via `mlx-whisper`) requires macOS on Apple Silicon and a Python version supported by `mlx` wheels (currently including Python 3.14).\"\n\n3. **Base requirement preserved** - Still shows \"Python \u003e=3.10\" as the base requirement for non-MLX backends.\n\nQuality gates verified:\n- `just lint` ‚úÖ\n- `just typecheck` ‚úÖ  \n- `just test` ‚úÖ (14 passed)\n\nThe wording \"currently including Python 3.14\" is good - it's accurate without being overly specific about version ranges that could change.\n\nLGTM - ready to close.","created_at":"2025-12-17T15:16:49Z"}]}
{"id":"podcast-transcript-uic","title":"MLX backend deps not installed in dev env by default","description":"Running transcribe --backend mlx in the repo venv fails because mlx-whisper is not installed after a normal uv sync. Ensure dev environments on macOS arm64 install MLX deps automatically (or provide a one-command setup) so the MLX backend works.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-17T18:01:11.180532+01:00","updated_at":"2025-12-17T18:09:42.267999+01:00","closed_at":"2025-12-17T18:09:42.267999+01:00","close_reason":"Done: use Python 3.12 for MLX (torch wheels) and improve install guidance; uv dev group now pulls mlx-whisper on macOS arm64."}
